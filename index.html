<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title> Bezier Curves </title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <link rel="stylesheet" type="text/css" href="styles/main.css">
    <link rel="stylesheet" type="text/css" href="styles/slider.css">
    <script type="text/javascript" src="scripts/globals.js"></script>
  </head>

  <body onload="loadDomReferences()" >
    <header id="navbar">
      <button onclick="addNewCurve()" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored"> 
        Criar nova curva 
      </button>
      <button onclick="deleteCurve()" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored"> 
        Deletar curva 
      </button>
      <button onclick="switchCurrentCurve()" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored"> 
        Alternar entre curvas 
      </button>
      <button onclick="deletePoint()" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored"> 
        Deletar ponto
      </button>
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <input class="mdl-textfield__input" type="number" 
          pattern="-?[0-9]*(\.[0-9]+)?" value="5" id="avaliacoes" 
          onchange="updateNumIterations(this)" >
        <label class="mdl-textfield__label" for="avaliacoes">
          Iterações de De Casteljau
        </label>
        <span class="mdl-textfield__error">
          Digite um número
        </span>
      </div>
      <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="linhas">
        <input type="checkbox" name="linhas" id="linhas" 
          onchange="redraw()" class="mdl-switch__input" checked>
        <span class="mdl-switch__label"> Linhas </span>
      </label>
      <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="pontos">
      <input type="checkbox" name="pontos" id="pontos"
        onchange="redraw()" class="mdl-switch__input" checked>
        <span class="mdl-switch__label">Pontos de Controle</span>
      </label>
      <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="curvas">
      <input type="checkbox" name="curvas" id="curvas" 
        onchange="redraw()" class="mdl-switch__input" checked>
        <span class="mdl-switch__label"> Curva de Bezier</span>
      </label>
    </header>

    <canvas id = "canvas" >
    </canvas>
    
    <div id="replayContainer">
      <button onclick="closeReplay()">
        <img src="./images/close.svg" alt="close btn">
      </button>
      <canvas id = "replay" >
      </canvas>
      <input type="range" min="0" max="100" value="0" 
        class="slider" oninput="playReplay()">
    </div>

    <span id="infos">
      <header>
        <h3> Curvas de Bezier </h3>
        <button onclick="closeTutorial()">
          <img src="./images/close.svg" alt="close btn">
        </button>
      </header>
      <p> 
        Bem vindo ao Projeto de Curvas de Bezier! <br>
        Nosso grupo é composto por <b>Bruna Alves, Felipe Guimarães, Filipe Gomes, José Danilo, José Rodrigo e Lucas Leonardo.</b>  <br>
        Instruções básicas:
      </p>
      <ul>
        <li>
          Para criar uma curva, clique como o mouse na tela para fazer os pontos de controle
        </li>
        <li>
          Após concluir uma curva, é possível criar outra clicando no botão "Adicionar nova curva" e novamente clicando para escolher os pontos de controle
        </li>
        <li>
          A curva selecionada no momento fica na cor laranja, se quiser selecionar outra curva para realizar alterações, clique no botão "Alternar entre curvas". É possível deletar a curva selecionada clicando no botão "Deletar curva"
        </li>
        <li>
          Em cada curva selecionada, é possível selecionar seus pontos, que ficam em destaque quando selecionados e movê-los arrastando com o mouse. É possível deletar um ponto selecionado clicando no botão "Deletar ponto"
        </li>
        <li>
          Você pode escolher o número de iterações do algoritmo que cria os pontos da curva, podendo deixar ela mais curva (com mais pontos) ao aumentar o valor
        </li>
        <li>
          Os toggles de Linhas, Pontos de Controle e Curva de Bezier tiram ou ativam a visualização desses elementos, respectivamente
        </li>
        <li>
          O botão "ver detalhadamente" mostra o passo a passo da criação da curva selecionada. Além disso, você pode acompanhar sua evolução alterando o slider no parte inferior da tela e pode fazer alterações na curva em tempo real
        </li>
      </ul>
    </span>
    <button onclick="playReplay()" id="tutorial-button" style="bottom: 4em"
      class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
      Ver detalhadamente
    </button>
    <button onclick="openTutorial()" id="tutorial-button"
      class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
      Abrir tutorial
    </button>
  </body>
  
  <script type="text/javascript" src="scripts/main.js"></script>
  <script type="text/javascript" src="scripts/canvas.js"></script>
</html>